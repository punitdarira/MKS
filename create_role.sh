{"payload":{"allShortcutsEnabled":false,"fileTree":{"example/rbac":{"items":[{"name":"cluster-role-binding-template.yaml","path":"example/rbac/cluster-role-binding-template.yaml","contentType":"file"},{"name":"cluster-role-template.yaml","path":"example/rbac/cluster-role-template.yaml","contentType":"file"},{"name":"create_role.sh","path":"example/rbac/create_role.sh","contentType":"file"},{"name":"role-binding-template.yaml","path":"example/rbac/role-binding-template.yaml","contentType":"file"},{"name":"role-template.yaml","path":"example/rbac/role-template.yaml","contentType":"file"}],"totalCount":5},"example":{"items":[{"name":"etcd-backup-operator","path":"example/etcd-backup-operator","contentType":"directory"},{"name":"etcd-restore-operator","path":"example/etcd-restore-operator","contentType":"directory"},{"name":"rbac","path":"example/rbac","contentType":"directory"},{"name":"tls","path":"example/tls","contentType":"directory"},{"name":"deployment.yaml","path":"example/deployment.yaml","contentType":"file"},{"name":"deployment_psp.yaml","path":"example/deployment_psp.yaml","contentType":"file"},{"name":"example-etcd-cluster-nodeport-service.json","path":"example/example-etcd-cluster-nodeport-service.json","contentType":"file"},{"name":"example-etcd-cluster.yaml","path":"example/example-etcd-cluster.yaml","contentType":"file"}],"totalCount":8},"":{"items":[{"name":".github","path":".github","contentType":"directory"},{"name":"cmd","path":"cmd","contentType":"directory"},{"name":"doc","path":"doc","contentType":"directory"},{"name":"example","path":"example","contentType":"directory"},{"name":"hack","path":"hack","contentType":"directory"},{"name":"pkg","path":"pkg","contentType":"directory"},{"name":"test","path":"test","contentType":"directory"},{"name":"version","path":"version","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"CHANGELOG.md","path":"CHANGELOG.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"DCO","path":"DCO","contentType":"file"},{"name":"Gopkg.lock","path":"Gopkg.lock","contentType":"file"},{"name":"Gopkg.toml","path":"Gopkg.toml","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"MAINTAINERS","path":"MAINTAINERS","contentType":"file"},{"name":"NOTICE","path":"NOTICE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"ROADMAP.md","path":"ROADMAP.md","contentType":"file"},{"name":"code-of-conduct.md","path":"code-of-conduct.md","contentType":"file"},{"name":"codecov.yaml","path":"codecov.yaml","contentType":"file"}],"totalCount":21}},"fileTreeProcessingTime":13.754255,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":64974719,"defaultBranch":"master","name":"etcd-operator","ownerLogin":"coreos","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2016-08-04T23:54:58.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/3730757?v=4","public":true,"private":false,"isOrgOwned":true},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"master","listCacheKey":"v0:1515694082.0","canEdit":false,"refType":"branch","currentOid":"13a1831f9744207b39733bbe91413ca2e389aa40"},"path":"example/rbac/create_role.sh","currentUser":null,"blob":{"rawLines":["#!/usr/bin/env bash","set -o errexit","set -o nounset","set -o pipefail","","ETCD_OPERATOR_ROOT=$(dirname \"${BASH_SOURCE}\")/../..","","print_usage() {","  echo \"$(basename \"$0\") - Create Kubernetes RBAC role and role bindings for etcd-operator","Usage: $(basename \"$0\") [options...]","Options:","  --role-name=STRING         Name of ClusterRole to create","                               (default=\\\"etcd-operator\\\", environment variable: ROLE_NAME)","  --role-binding-name=STRING Name of ClusterRoleBinding to create","                               (default=\\\"etcd-operator\\\", environment variable: ROLE_BINDING_NAME)","  --namespace=STRING         namespace to create role and role binding in. Must already exist.","                               (default=\\\"default\\\", environment variable: NAMESPACE)","\" >&2","}","","ROLE_NAME=\"${ROLE_NAME:-etcd-operator}\"","ROLE_BINDING_NAME=\"${ROLE_BINDING_NAME:-etcd-operator}\"","NAMESPACE=\"${NAMESPACE:-default}\"","","for i in \"$@\"","do","case $i in","    --role-name=*)","    ROLE_NAME=\"${i#*=}\"","    ;;","    --role-binding-name=*)","    ROLE_BINDING_NAME=\"${i#*=}\"","    ;;","    --namespace=*)","    NAMESPACE=\"${i#*=}\"","    ;;","    -h|--help)","      print_usage","      exit 0","    ;;","    *)","      print_usage","      exit 1","    ;;","esac","done","","echo \"Creating role with ROLE_NAME=${ROLE_NAME}, NAMESPACE=${NAMESPACE}\"","sed -e \"s/<ROLE_NAME>/${ROLE_NAME}/g\" \\","  -e \"s/<NAMESPACE>/${NAMESPACE}/g\" \\","  \"${ETCD_OPERATOR_ROOT}/example/rbac/cluster-role-template.yaml\" | \\","  kubectl create -f -","","echo \"Creating role binding with ROLE_NAME=${ROLE_NAME}, ROLE_BINDING_NAME=${ROLE_BINDING_NAME}, NAMESPACE=${NAMESPACE}\"","sed -e \"s/<ROLE_NAME>/${ROLE_NAME}/g\" \\","  -e \"s/<ROLE_BINDING_NAME>/${ROLE_BINDING_NAME}/g\" \\","  -e \"s/<NAMESPACE>/${NAMESPACE}/g\" \\","  \"${ETCD_OPERATOR_ROOT}/example/rbac/cluster-role-binding-template.yaml\" | \\","  kubectl create -f -"],"stylingDirectives":[[{"start":0,"end":19,"cssClass":"pl-c"},{"start":0,"end":2,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-c1"}],[],[{"start":19,"end":46,"cssClass":"pl-s"},{"start":19,"end":21,"cssClass":"pl-pds"},{"start":29,"end":45,"cssClass":"pl-s"},{"start":29,"end":30,"cssClass":"pl-pds"},{"start":30,"end":44,"cssClass":"pl-smi"},{"start":44,"end":45,"cssClass":"pl-pds"},{"start":45,"end":46,"cssClass":"pl-pds"}],[],[{"start":0,"end":11,"cssClass":"pl-en"}],[{"start":2,"end":6,"cssClass":"pl-c1"},{"start":7,"end":90,"cssClass":"pl-s"},{"start":7,"end":8,"cssClass":"pl-pds"},{"start":8,"end":24,"cssClass":"pl-s"},{"start":8,"end":10,"cssClass":"pl-pds"},{"start":19,"end":23,"cssClass":"pl-s"},{"start":19,"end":20,"cssClass":"pl-pds"},{"start":20,"end":22,"cssClass":"pl-smi"},{"start":22,"end":23,"cssClass":"pl-pds"},{"start":23,"end":24,"cssClass":"pl-pds"}],[{"start":0,"end":36,"cssClass":"pl-s"},{"start":7,"end":23,"cssClass":"pl-s"},{"start":7,"end":9,"cssClass":"pl-pds"},{"start":18,"end":22,"cssClass":"pl-s"},{"start":18,"end":19,"cssClass":"pl-pds"},{"start":19,"end":21,"cssClass":"pl-smi"},{"start":21,"end":22,"cssClass":"pl-pds"},{"start":22,"end":23,"cssClass":"pl-pds"}],[{"start":0,"end":8,"cssClass":"pl-s"}],[{"start":0,"end":58,"cssClass":"pl-s"}],[{"start":0,"end":91,"cssClass":"pl-s"},{"start":40,"end":42,"cssClass":"pl-cce"},{"start":55,"end":57,"cssClass":"pl-cce"}],[{"start":0,"end":65,"cssClass":"pl-s"}],[{"start":0,"end":99,"cssClass":"pl-s"},{"start":40,"end":42,"cssClass":"pl-cce"},{"start":55,"end":57,"cssClass":"pl-cce"}],[{"start":0,"end":94,"cssClass":"pl-s"}],[{"start":0,"end":85,"cssClass":"pl-s"},{"start":40,"end":42,"cssClass":"pl-cce"},{"start":49,"end":51,"cssClass":"pl-cce"}],[{"start":0,"end":1,"cssClass":"pl-s"},{"start":0,"end":1,"cssClass":"pl-pds"},{"start":2,"end":5,"cssClass":"pl-k"}],[],[],[{"start":10,"end":39,"cssClass":"pl-s"},{"start":10,"end":11,"cssClass":"pl-pds"},{"start":11,"end":38,"cssClass":"pl-smi"},{"start":22,"end":24,"cssClass":"pl-k"},{"start":38,"end":39,"cssClass":"pl-pds"}],[{"start":18,"end":55,"cssClass":"pl-s"},{"start":18,"end":19,"cssClass":"pl-pds"},{"start":19,"end":54,"cssClass":"pl-smi"},{"start":38,"end":40,"cssClass":"pl-k"},{"start":54,"end":55,"cssClass":"pl-pds"}],[{"start":10,"end":33,"cssClass":"pl-s"},{"start":10,"end":11,"cssClass":"pl-pds"},{"start":11,"end":32,"cssClass":"pl-smi"},{"start":22,"end":24,"cssClass":"pl-k"},{"start":32,"end":33,"cssClass":"pl-pds"}],[],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":4,"end":5,"cssClass":"pl-smi"},{"start":6,"end":8,"cssClass":"pl-k"},{"start":9,"end":13,"cssClass":"pl-s"},{"start":9,"end":10,"cssClass":"pl-pds"},{"start":10,"end":12,"cssClass":"pl-smi"},{"start":12,"end":13,"cssClass":"pl-pds"}],[{"start":0,"end":2,"cssClass":"pl-k"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":7,"cssClass":"pl-smi"},{"start":8,"end":10,"cssClass":"pl-k"}],[{"start":16,"end":17,"cssClass":"pl-k"}],[{"start":14,"end":23,"cssClass":"pl-s"},{"start":14,"end":15,"cssClass":"pl-pds"},{"start":15,"end":22,"cssClass":"pl-smi"},{"start":18,"end":20,"cssClass":"pl-k"},{"start":22,"end":23,"cssClass":"pl-pds"}],[],[{"start":24,"end":25,"cssClass":"pl-k"}],[{"start":22,"end":31,"cssClass":"pl-s"},{"start":22,"end":23,"cssClass":"pl-pds"},{"start":23,"end":30,"cssClass":"pl-smi"},{"start":26,"end":28,"cssClass":"pl-k"},{"start":30,"end":31,"cssClass":"pl-pds"}],[],[{"start":16,"end":17,"cssClass":"pl-k"}],[{"start":14,"end":23,"cssClass":"pl-s"},{"start":14,"end":15,"cssClass":"pl-pds"},{"start":15,"end":22,"cssClass":"pl-smi"},{"start":18,"end":20,"cssClass":"pl-k"},{"start":22,"end":23,"cssClass":"pl-pds"}],[],[],[],[{"start":6,"end":10,"cssClass":"pl-c1"}],[],[{"start":4,"end":5,"cssClass":"pl-k"}],[],[{"start":6,"end":10,"cssClass":"pl-c1"}],[],[{"start":0,"end":4,"cssClass":"pl-k"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[],[{"start":0,"end":4,"cssClass":"pl-c1"},{"start":5,"end":72,"cssClass":"pl-s"},{"start":5,"end":6,"cssClass":"pl-pds"},{"start":35,"end":47,"cssClass":"pl-smi"},{"start":59,"end":71,"cssClass":"pl-smi"},{"start":71,"end":72,"cssClass":"pl-pds"}],[{"start":7,"end":37,"cssClass":"pl-s"},{"start":7,"end":8,"cssClass":"pl-pds"},{"start":22,"end":34,"cssClass":"pl-smi"},{"start":36,"end":37,"cssClass":"pl-pds"}],[{"start":5,"end":35,"cssClass":"pl-s"},{"start":5,"end":6,"cssClass":"pl-pds"},{"start":20,"end":32,"cssClass":"pl-smi"},{"start":34,"end":35,"cssClass":"pl-pds"}],[{"start":2,"end":65,"cssClass":"pl-s"},{"start":2,"end":3,"cssClass":"pl-pds"},{"start":3,"end":24,"cssClass":"pl-smi"},{"start":64,"end":65,"cssClass":"pl-pds"},{"start":66,"end":67,"cssClass":"pl-k"}],[],[],[{"start":0,"end":4,"cssClass":"pl-c1"},{"start":5,"end":120,"cssClass":"pl-s"},{"start":5,"end":6,"cssClass":"pl-pds"},{"start":43,"end":55,"cssClass":"pl-smi"},{"start":75,"end":95,"cssClass":"pl-smi"},{"start":107,"end":119,"cssClass":"pl-smi"},{"start":119,"end":120,"cssClass":"pl-pds"}],[{"start":7,"end":37,"cssClass":"pl-s"},{"start":7,"end":8,"cssClass":"pl-pds"},{"start":22,"end":34,"cssClass":"pl-smi"},{"start":36,"end":37,"cssClass":"pl-pds"}],[{"start":5,"end":51,"cssClass":"pl-s"},{"start":5,"end":6,"cssClass":"pl-pds"},{"start":28,"end":48,"cssClass":"pl-smi"},{"start":50,"end":51,"cssClass":"pl-pds"}],[{"start":5,"end":35,"cssClass":"pl-s"},{"start":5,"end":6,"cssClass":"pl-pds"},{"start":20,"end":32,"cssClass":"pl-smi"},{"start":34,"end":35,"cssClass":"pl-pds"}],[{"start":2,"end":73,"cssClass":"pl-s"},{"start":2,"end":3,"cssClass":"pl-pds"},{"start":3,"end":24,"cssClass":"pl-smi"},{"start":72,"end":73,"cssClass":"pl-pds"},{"start":74,"end":75,"cssClass":"pl-k"}],[]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/coreos/etcd-operator/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/coreos/etcd-operator/security/dependabot","repoSecurityAndAnalysisPath":"/coreos/etcd-operator/settings/security_analysis","repoOwnerIsOrg":true,"currentUserCanAdminRepo":false},"displayName":"create_role.sh","displayUrl":"https://github.com/coreos/etcd-operator/blob/master/example/rbac/create_role.sh?raw=true","headerInfo":{"blobSize":"1.77 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"0069ccf","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Fetcd-operator%2Fblob%2Fmaster%2Fexample%2Frbac%2Fcreate_role.sh","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"59","truncatedSloc":"53"},"mode":"executable file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Shell","languageID":346,"large":false,"loggedIn":false,"newDiscussionPath":"/coreos/etcd-operator/discussions/new","newIssuePath":"/coreos/etcd-operator/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/coreos/etcd-operator/blob/master/example/rbac/create_role.sh","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/coreos/etcd-operator/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/coreos/etcd-operator/raw/master/example/rbac/create_role.sh","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"coreos","repoName":"etcd-operator","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":false,"symbols":[{"name":"print_usage","kind":"function","identStart":121,"identEnd":132,"extentStart":121,"extentEnd":779,"fullyQualifiedName":"print_usage","identUtf16":{"start":{"lineNumber":7,"utf16Col":0},"end":{"lineNumber":7,"utf16Col":11}},"extentUtf16":{"start":{"lineNumber":7,"utf16Col":0},"end":{"lineNumber":18,"utf16Col":1}}}]}},"copilotInfo":null,"copilotAccessAllowed":false,"csrf_tokens":{"/coreos/etcd-operator/branches":{"post":"9WUszObvaBota4cwKjKj23pUJVq2VzgcoTumoo7aYFNgeQsAXnjCqZisV4CBdI8Q3EyuLXpOBgdp5LTmkQjIzw"},"/repos/preferences":{"post":"8XkP_H3wHvopaAjldA6nc5ymTN_fj7dIW_z-5m3jyPBSWQa2U2c1XkEfXR1KTtpU_kwYdGaRkuoXcGqB0QMEbw"}}},"title":"etcd-operator/example/rbac/create_role.sh at master Â· coreos/etcd-operator"}